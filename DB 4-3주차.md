## unique 

unique : 중복 제거 코드 

```ruby
 select T.course_id
 from course as T
 where unique ( select R.course_id
                           from section as R
                           where T.course_id= R.course_id 
                                       and R.year = 2017);
```

위와 동일한 표현은 아래와 같음 

```ruby
select course_id
from section
where year = 2017
group by course_id
having count(*) = 1;
```

위 코드는 section 테이블의 primary key가 course_id, sec_id, semester, year 로 설정되어서 반드시 하나만 나옴 

따라서 group by를 해도 하나만 나오기 때문에 unique와 같은 역할 

<br/>

4주차 실습 p.26,27 코드 입력 해보기 

<br/>

## with 

**with :  임시 테이블을 만들고, 그 결과를 본 쿼리에서 마치 테이블처럼 재사용할 수 있게 해주는 기능**

<br/>

## 예시 코드 

```ruby
with continent_country_count(continent, country_count) as (
  select continent, count(*)
  from country
  group by continent
),
max_country_count(value) as (
  select max(country_count)
  from continent_country_count
)
select continent, country_count
from continent_country_count, max_country_count
where continent_country_count.country_count = max_country_count.value;
```

continent_country_count 를 기준으로 설명하면, continent_country_count는 **table 이름**, continent와 country_count는 각각 **열의 이름**이다



































